{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$ref": "#/definitions/IAppJson",
    "definitions": {
        "IEnvVarDefinition": {
            "title": "IEnvVarDefinition",
            "type": "object",
            "properties": {
                "description": {
                    "description": "a human-friendly blurb about what the value is for and how to determine what it should be",
                    "type": "string",
                    "title": "description"
                },
                "value": {
                    "description": "a default value to use. This should always be a string.",
                    "type": "string",
                    "title": "value"
                },
                "required": {
                    "description": "A boolean indicating whether the given value is required for the app to function (default: true).",
                    "type": "boolean",
                    "title": "required"
                }
            },
            "required": ["description"]
        },
        "IEnv": {
            "description": "A key-value object for config variables to add to the app’s runtime environment. Keys are the names of the config variables. Values can be strings or objects. If the value is a string, it will be used. If the value is an object, it defines specific requirements for that variable.",
            "title": "IEnv",
            "type": "object",
            "additionalProperties": {
                "anyOf": [
                    {
                        "$ref": "#/definitions/IEnvVarDefinition"
                    },
                    {
                        "type": "string"
                    }
                ]
            }
        },
        "IOutputDefinition": {
            "title": "IOutputDefinition",
            "type": "object",
            "properties": {
                "description": {
                    "description": "a human-friendly blurb about what this output is and what you can do with it",
                    "type": "string",
                    "title": "description"
                },
                "mapTo": {
                    "description": "the environment variable this output should be mapped to when used elsewhere",
                    "type": "string",
                    "title": "description"
                }
            },
            "required": ["description"]
        },
        "IOutput": {
            "title": "IOutput",
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/IOutputDefinition"
            }
        },
        "IEnvironment": {
            "title": "IEnvironment",
            "type": "object",
            "properties": {
                "env": {
                    "description": "A key-value object for config variables to add to the app’s runtime environment. Keys are the names of the config variables. Values can be strings or objects. If the value is a string, it will be used. If the value is an object, it defines specific requirements for that variable.",
                    "$ref": "#/definitions/IEnv",
                    "title": "env"
                }
            }
        },
        "IEnvironments": {
            "title": "IEnvironments",
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/IEnvironment"
            }
        },

        "IAppJson": {
            "title": "IAppJson",
            "type": "object",
            "properties": {
                "uri": {
                    "description": "Unique identifier for this app, eg. the repository url. This is used to resolve dependencies.",
                    "type": "string",
                    "title": "uri"
                },
                "env": {
                    "description": "A key-value object for config variables to add to the app’s runtime environment. Keys are the names of the config variables. Values can be strings or objects. If the value is a string, it will be used. If the value is an object, it defines specific requirements for that variable.",
                    "$ref": "#/definitions/IEnv",
                    "title": "env"
                },
                "environments": {
                    "description": "A key-value object holding environment-specific overrides for app.json keys.\nEach key in the object is the name of an environment.\nThis can include runtime environments, but can also include 'local' for local development or 'ci'\nfor CI.",
                    "$ref": "#/definitions/IEnvironments",
                    "title": "environments"
                },
                "output": {
                    "description": "Outputs that are available once this app is deployed",
                    "$ref": "#/definitions/IOutput",
                    "title": "output"
                }
            },
            "required": ["uri"]
        }
    }
}
